schema: '2.0'
stages:
  load_data:
    cmd: python src/stage_01_load_save.py  --config=config/config.yaml
    deps:
    - path: config/config.yaml
      md5: 1df76c5dfd8ce03ed0de3e72688bf80c
      size: 1423
    - path: src/stage_01_load_save.py
      md5: 6ab7a685fe469e3593e9f0f9e9475053
      size: 1644
    - path: src/utils/all_utils.py
      md5: 367da31cc6704d959ef12ab3c6b85c6f
      size: 972
    outs:
    - path: data/Flicker8k_Dataset
      md5: 1a0649d0d74e7cf7c96d47624f8e8e5d.dir
      size: 1114733885
      nfiles: 8091
    - path: data/Flickr8k_text
      md5: 74eee7486ac2681d8c8a9dc16d4cb708.dir
      size: 10113299
      nfiles: 8
    - path: data/glove
      md5: 4d46af83123a9115d49b067e751bee83.dir
      size: 693432828
      nfiles: 1
  prepaired_data:
    cmd: python src/stage_02_data_preparation.py  --config=config/config.yaml
    deps:
    - path: config/config.yaml
      md5: 1df76c5dfd8ce03ed0de3e72688bf80c
      size: 1423
    - path: src/stage_02_data_preparation.py
      md5: 1460c5678837c8e14ad0db3776947521
      size: 3467
    - path: src/utils/all_utils.py
      md5: 367da31cc6704d959ef12ab3c6b85c6f
      size: 972
    - path: src/utils/text_img_data_preparation.py
      md5: 38ac33bb12e24137f1a06135d2128bbe
      size: 3637
    outs:
    - path: prepaired_data/ixtoword_dir
      md5: 9c52973e9b809d3e230697c6a10fcd90.dir
      size: 25134
      nfiles: 1
    - path: prepaired_data/max_length_dir
      md5: 03ccabee215f76f9fcc3e11e31f5dd11.dir
      size: 2
      nfiles: 1
    - path: prepaired_data/test_img
      md5: 26e2841bb8b775ca2aab7511fefca630.dir
      size: 53775
      nfiles: 1
    - path: prepaired_data/train_descriptions_dir
      md5: fb291164a5f118231be520d0ab42e563.dir
      size: 2258011
      nfiles: 1
    - path: prepaired_data/train_img
      md5: 1b2933d1b2aecaf9c8d8c5ca28e2e359.dir
      size: 322678
      nfiles: 1
    - path: prepaired_data/vocab_size_dir
      md5: 353f23bcb82319c352acec366c126630.dir
      size: 4
      nfiles: 1
    - path: prepaired_data/wordtoix_dir
      md5: 6474731a8a9abb1c08005a1925cd966e.dir
      size: 25134
      nfiles: 1
  prepaire_base_model:
    cmd: python src/stage_03_prepare_base_model.py  --config=config/config.yaml
    deps:
    - path: config/config.yaml
      md5: 1df76c5dfd8ce03ed0de3e72688bf80c
      size: 1423
    - path: src/stage_03_prepare_base_model.py
      md5: 1bae6ee1666f3072f2ecb9e126ca26f2
      size: 3697
    - path: src/utils/all_utils.py
      md5: 367da31cc6704d959ef12ab3c6b85c6f
      size: 972
    - path: src/utils/models.py
      md5: bfa5df785721a0c0605443d4c66ef488
      size: 1185
    outs:
    - path: artifacts/base_model/inception_base_model.h5
      md5: d7be4cdc53ca0ea8cd5b5ad29d270f42
      size: 96260344
    - path: data/Pickle/encoded_train_images.pkl
      md5: e04abab6cfb6a2e6d824267d0bc3a0b8
      size: 33086
